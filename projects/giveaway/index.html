<!DOCTYPE html><html lang="">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Fun</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body style="background: #eee;">
    <main>
        <div class="justify-content-center container">
            <form id="form" style="display: flex; flex-direction: column">
                <label for="input">First name:</label>
                <input id="input" />
                <label for="input_e">Email Address:</label>
                <input id="input_e" />
                <button type="submit" id="submit">Submit</button>
                <p id="p"></p>
            </form>
        </div>
    </main>

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script>
        const socket = io()
        const form = document.getElementById('form')
        const first_name = document.getElementById('input')
        const email = document.getElementById('input_e')
        const p = document.getElementById('p')

        form.addEventListener('submit', (e) => {
            e.preventDefault()
            if (first_name.value) {
                p.innerText = "Please wait..."
                socket.emit('giveaway_entry', [first_name.value, email.value])
            }
        })

        socket.on('entry_added', (data) => {
            console.log("Server response: " + data)
            p.innerText = "Success!"
        })

    </script>
</body>
</html>